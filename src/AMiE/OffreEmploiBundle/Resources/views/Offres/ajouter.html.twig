{% extends "AMiEHomeBundle::layout.html.twig" %}

{% block title %}{{ action }} une offre{% endblock %}

{% block head %}{{ action }} une offre d'emploi{% endblock %}

{% if action == 'Ajouter' %}
    {% set array = { 'action': action } %}
{% else %}
    {% set array = { 'action': action, 'id': offre.id } %}
{% endif %}

{% block content %}
<form action="{{ path('amie_offresemplois_' ~ action|lower, array) }}" method="post" {{ form_enctype(formDoc) }}>
	<div class="row">
		<div class="col-lg-12">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h4><i class="fa fa-globe fa-fw"></i> Détails de l'offre</h4>
				</div>
				<div class="panel-body">
					<div class="row">
						<div class="col-lg-12">
							<div class="form-group">
								{{ form_label(formOffre.entreprise, 'Entreprise *') }}
								{{ form_widget(formOffre.entreprise, { 'attr': {'class': 'form-control', 'placeholder': 'Entreprise'} }) }}
							</div>
							<div class="form-group">
								{{ form_label(formOffre.titre, 'Titre *') }}
								{{ form_widget(formOffre.titre, { 'attr': {'class': 'form-control', 'placeholder': 'Titre'} }) }}
							</div>
							<div class="form-group">
								{{ form_label(formOffre.descriptif, 'Descriptif de l\'offre *') }}
								{{ form_widget(formOffre.descriptif, { 'attr': {'rows': 4, 'class': 'form-control auto-size'} }) }}
							</div>
							<div class="form-group">
								{{ form_label(formOffre.lieuTravail, 'Adresse du lieu de travail *') }}
								{{ form_widget(formOffre.lieuTravail, { 'attr': {'class': 'form-control', 'placeholder': 'Lieu de travail'} }) }}
							</div>
							<div class="form-group">
								<div class="select">
									{{ form_label(formOffre.departement, 'Département *') }}
									{{ form_widget(formOffre.departement, { 'attr': {'class': 'form-control'} }) }}
								</div>
							</div>
							<div class="form-group">
								<div class="select">
									{{ form_label(formOffre.typePoste, 'Type de poste *') }}
									{{ form_widget(formOffre.typePoste, { 'attr': {'class': 'form-control'} }) }}
								</div>
							</div>
							<div class="form-group">
								<div class="select">
									{{ form_label(formOffre.typeContrat, 'Type de contrat *', { 'attr': {'class': 'c-black f-500 m-b-20'} }) }}
									{{ form_widget(formOffre.typeContrat, { 'attr': {'class': 'form-control'} }) }}
								</div>
							</div>
							<div class="form-group">
								{{ form_label(formOffre.xpExigee, 'Expérience exigée *') }}
								{{ form_widget(formOffre.xpExigee, { 'attr': {'class': 'form-control', 'placeholder': 'Expérience'} }) }}
							</div>
							<div class="form-group">
								<div class="select">
									{{ form_label(formOffre.urgence, 'Niveau d\'urgence de l\'offre *') }}
									{{ form_widget(formOffre.urgence, { 'attr': {'class': 'form-control'} }) }}
								</div>
							</div>							
							<div class="form-group">
								{{ form_label(formOffre.salaire, 'Salaire estimé par an') }}
								{{ form_widget(formOffre.salaire, { 'attr': {'class': 'form-control', 'placeholder': 'Salaire'} }) }}
							</div>
						</div>
						<!-- /.col-lg-12 -->
					</div>
					<!-- /.row (nested) -->
				</div>
				<!-- /.panel-body -->
			</div>
			<!-- /.panel -->
			<div class="panel panel-default">
				<div class="panel-heading">
					<h4><i class="fa fa-phone fa-fw"></i> Contact avec l'entreprise</h4>
				</div>
				<div class="panel-body">
					<div class="row">
						<div class="col-lg-12">
							<div class="form-group">
								{{ form_label(formOffre.contactNom, 'Nom de la personne à contacter *') }}
								{{ form_widget(formOffre.contactNom, { 'attr': {'class': 'form-control', 'placeholder': 'Nom'} }) }}
							</div>							
							<div class="form-group">
								{{ form_label(formOffre.contactMail, 'Mail de la personne à contacter *') }}
								{{ form_widget(formOffre.contactMail, { 'attr': {'class': 'form-control', 'placeholder': 'Mail'} }) }}
							</div>							
							<div class="form-group">
								{{ form_label(formOffre.contactTel, 'Téléphone de la personne à contacter') }}
								{{ form_widget(formOffre.contactTel, { 'attr': {'class': 'form-control', 'placeholder': 'Téléphone'} }) }}
							</div>
						</div>
						<!-- /.col-lg-12 -->
					</div>
					<!-- /.row (nested) -->
				</div>
				<!-- /.panel-body -->
			</div>
			<!-- /.panel -->
			<div class="panel panel-default">
				<div class="panel-heading">
					<h4><i class="fa fa-file fa-fw"></i> Document joint à l'offre</h4>
				</div>
				<div class="panel-body">
					<div class="row">
						<div class="col-lg-12">
							<div class="form-group">
								{{ form_label(formDoc.titre, 'Titre du document') }}
								{{ form_widget(formDoc.titre, { 'attr': {'class': 'form-control', 'placeholder': 'Titre'} }) }}
							</div>							
							<div class="form-group">
								{{ form_label(formDoc.descriptif, 'Descriptif du document') }}
								{{ form_widget(formDoc.descriptif, { 'attr': {'class': 'form-control', 'placeholder': 'Courte description'} }) }}
							</div>
							{{ form_label(formDoc.file, 'Fichier de présentation de l\'offre') }}
							<div class="fileinput fileinput-new" data-provides="fileinput">
								{{ form_widget(formDoc.file, { 'attr': {'style': 'cursor:pointer'} }) }}
								<span class="fileinput-filename"></span>
								<a title="Supprimer le fichier" href="#" class="close fileinput-exists" data-dismiss="fileinput"><i class="fa fa-times fa-fw"></i></a>
							</div>
						</div>
						<!-- /.col-lg-12 -->
					</div>
					<!-- /.row (nested) -->
				</div>
				<!-- /.panel-body -->
			</div>
			<!-- /.panel -->
			{{ form_rest(formOffre) }}
			{{ form_rest(formDoc) }}
		</div>
		<!-- /.col-lg-12 -->
		<div class="col-sm-offset-10 col-sm-1">
			<button type="submit" class="btn btn-primary">Valider</button>
		</div>
	</div>
	<!-- /.row -->
</form>
<!-- /.form -->
{% endblock content %}